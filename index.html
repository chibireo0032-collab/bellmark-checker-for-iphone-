<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ãƒ™ãƒ«ãƒãƒ¼ã‚¯ãƒã‚§ãƒƒã‚«ãƒ¼ | Bellmark Checker</title>

<style>
body{
  font-family:sans-serif;
  text-align:center;
  background:#f0f6ff;
  padding:20px;
}

h2{
  margin-bottom:5px;
}

.guide{
  font-size:13px;
  background:white;
  padding:15px;
  border-radius:12px;
  margin-bottom:20px;
}

button{
  padding:12px 20px;
  margin:8px;
  font-size:16px;
  border:none;
  border-radius:10px;
  background:#4a90e2;
  color:white;
  cursor:pointer;
}

video{
  width:100%;
  max-width:300px;
  border-radius:12px;
  margin-top:10px;
}

.result{
  margin-top:20px;
  font-size:17px;
  background:white;
  padding:15px;
  border-radius:12px;
}
</style>
</head>
<body>

<h2>ãƒ™ãƒ«ãƒãƒ¼ã‚¯ãƒã‚§ãƒƒã‚«ãƒ¼</h2>
<h3>Bellmark Checker</h3>

<div class="guide">

<b>ğŸ‘¦ å­ä¾›ã‚€ã‘</b><br>
â‘  ã¤ã‹ã†ãƒœã‚¿ãƒ³ã‚’ãŠã™ã‚ˆã€‚<br>
â‘¡ ãƒ™ãƒ«ãƒãƒ¼ã‚¯ã‚’ã¨ã‚‹ã‚ˆã€‚<br>
â‘¢ ãªã‚“ã¦ã‚“ã‹ ã§ã‚‹ã‚ˆã€‚<br><br>

<b>ğŸ‘¨ å¤§äººå‘ã‘</b><br>
â‘  ã€Œä½¿ã†ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ãã ã•ã„ã€‚<br>
â‘¡ ãƒ™ãƒ«ãƒãƒ¼ã‚¯ã‚’æ’®å½±ã—ã¾ã™ã€‚<br>
â‘¢ ç‚¹æ•°ã¨å¿…è¦ãªæ®‹ã‚Šç‚¹æ•°ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚<br><br>

<b>ğŸ§’ For Kids</b><br>
1. Press the button.<br>
2. Take a picture.<br>
3. See your points.<br><br>

<b>ğŸ‘© For Adults</b><br>
1. Press "Use Camera".<br>
2. Capture the bellmark.<br>
3. View total and remaining points.<br>

</div>

<button onclick="startCamera()">ğŸ“· ä½¿ã† / Use Camera</button>
<button onclick="takePhoto()">ğŸ“¸ æ’®å½± / Take Photo</button>
<button onclick="addPoint()">â• 1ç‚¹è¿½åŠ  / Add 1 Point</button>

<br>
<video id="video" autoplay playsinline></video>

<div class="result" id="result"></div>

<script>

let totalPoints = 200;

const rewards = [
  {points:100, name:"ãˆã‚“ã´ã¤ / Pencil"},
  {points:300, name:"ãƒãƒ¼ãƒˆ / Notebook"},
  {points:500, name:"ãƒœãƒ¼ãƒ« / Ball"},
  {points:1000, name:"å­¦æ ¡ã‚»ãƒƒãƒˆ / School Set"}
];

function startCamera(){
  navigator.mediaDevices.getUserMedia({video:true})
  .then(stream=>{
    document.getElementById("video").srcObject = stream;
  })
  .catch(()=>{
    alert("ã‚«ãƒ¡ãƒ©ãŒä½¿ç”¨ã§ãã¾ã›ã‚“ / Camera not available");
  });
}

function takePhoto(){
  totalPoints += 1;
  showResult(1);
}

function addPoint(){
  totalPoints += 1;
  showResult(1);
}

function showResult(newPoint){
  let nextReward = null;

  for(let r of rewards){
    if(totalPoints < r.points){
      nextReward = r;
      break;
    }
  }

  let rewardText = "";

  if(nextReward){
    rewardText = `
    ã‚ã¨ ${nextReward.points-totalPoints} ç‚¹ã§ ${nextReward.name} ãŒè²·ãˆã¾ã™ã€‚<br>
    You need ${nextReward.points-totalPoints} more points to get ${nextReward.name}.
    `;
  } else {
    rewardText = `
    ã™ã”ã„ï¼å…¨éƒ¨ã®æ™¯å“ã‚’è²·ãˆã¾ã™ï¼<br>
    Amazing! You can get all rewards!
    `;
  }

  document.getElementById("result").innerHTML = `
    ä»Šå›ã¯ ${newPoint} ç‚¹ã§ã™ã€‚<br>
    This time: ${newPoint} point.<br><br>
    åˆè¨ˆ ${totalPoints} ç‚¹ã§ã™ã€‚<br>
    Total: ${totalPoints} points.<br><br>
    ${rewardText}
  `;
}

</script>

</body>
</html>
